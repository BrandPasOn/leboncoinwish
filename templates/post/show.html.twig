{% extends 'base.html.twig' %}

{% block title %}Hello PostController!{% endblock %}

{% block body %}

<div class="max-w-7xl mx-auto">
    <section class="border-2 w-4/6 mx-auto">
        <h1 class="text-3xl text-center font-bold tracking-tight">{{ post.title }}</h1>
        <p class="mt-3 text-center">Seller: {{ post.user.pseudo }}</p>
        <p class="font-xl text-center">{{ post.price }} â‚¬</p>
        <p class="mt-3 text-center">Description:</p>
        <p class=" text-center">{{ post.description }}</p>
        {% if app.user %}
        <div class="text-center">
            <a href="/acquisition/{{ post.id }}/buy" class="rounded-full bg-emerald-600 px-2.5 py-1 text-xs font-semibold text-white shadow-sm hover:bg-emerald-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-emerald-600">Buy it</a>
        </div>
        {% else %}
            <div class="text-center">
                <a href="/login" class="rounded-full bg-emerald-600 px-2.5 py-1 text-xs font-semibold text-white shadow-sm hover:bg-emerald-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-emerald-600">Buy it</a>
            </div>
        {% endif %}
    </section>
    <section>
        {% if app.user %}
            <div class="pt-5">
                <h3 class="text-xl font-bold">Add commentary</h3>
                {{ form(commentaryForm) }}
            </div>
        {% endif %}
        <div class="mt-5">
            <h3 class="text-xl font-bold">Commentary section</h3>
            {% for commentary in post.commentaries %}
                <article class="my-2">
                    <h2>Comment from: {{ commentary.user.pseudo }}</h2>
                    <p>{{ commentary.content }}</p>
                </article>
            {% endfor %}
        </div>
    </section>



</div>
{% endblock %}
